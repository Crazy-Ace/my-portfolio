<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="my-tab-selector.html">
<link rel="import" href="my-tabview.html">
<dom-module id="my-about">
	<template>
		<style>
			section {
				display: flex;
				margin: 2em 0.1em;
			}

			a {
				text-decoration: none;
				color: var(--primary-text-color);
				font-size: 4em;
				font-weight: 300;
				transition: opacity 300ms;
			}

			a:focus, a:hover {
				opacity: 0.7;
			}


			@media (max-width: 600px) {
				a {
					font-size: 3em;
				}
			}
			@media (max-width: 450px) {
				a {
					font-size: 2.5em;
				}
			}
			@media (max-width: 380px) {
				a {
					font-size: 2em;
				}
			}
		</style>
		<iron-ajax
			auto
			url="../data/about.json"
			handle-as="json"
			on-response="aboutResponse"></iron-ajax>
		<my-tab-selector tabs="[[aboutTabs]]">
			<my-tabview tabview="about me" items="[[aboutme]]"></my-tabview>
			<section tabview="contact">
				<a href="mailto:nickhstr@gmail.com" target="_blank" on-tap="blur">nickhstr@gmail.com</a>
			</section>
		</my-tab-selector>
	</template>
	<script>
		Polymer({

			is: 'my-about',

			properties: {
				aboutTabs: {
					type: Array,
					value: ['about me', 'contact']
				},
				aboutme: {
					type: Array,
					notify: true
				}
			},

			aboutResponse: function(e) {
				var response = e.detail.response;
				this.aboutme = response.aboutme;
			},

			blur: function(e) {
				e.target.blur();
			}

		});
	</script>
</dom-module>